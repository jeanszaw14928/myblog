<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{layout/mainbar :: layout(~{::section})}">
<body>
    <section>
    
    <!-- post table -->
    	<div class="card-body">
                    <div class="d-flex justify-content-between mt-3 mb-3">
                    	<h5>Book Table</h5>
                    	<a th:href="@{/book/create}" class="btn btn-primary btn-sm">Add</a>
                    </div>
                    <!-- post table -->
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Id</th>
                                <th>Author</th>                          
                                <th>Publish Date</th>
                                <th>Image</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        	<tr th:each="book, iter : ${bookPage.content}">
							    <td th:text="${iter.index + 1}"></td>
							    <td th:text="${book.author}"></td>
							    <td th:text="${book.publishDate}"></td>
							    <td>
							    	<img th:src="@{/uploads/{img}(img=${book.image})}" width="80" height="80" />

							    </td>
							    <td>
							    	<a th:href="@{/book/edit/{id}(id=${book.id})}" class="btn btn-success btn-sm"><i class="fa-regular fa-pen-to-square"></i>Edit</a>
							       <a th:href="@{/book/delete/{id}(id=${book.id})}" class="btn btn-danger btn-sm"><i class="fa-solid fa-trash"></i>Delete</a> 
							    </td>
							</tr>

                        <tbody>                         
                        </tbody>
                    </table>
            </div>
            
            <!-- pagination -->
	    	<nav aria-label="Page navigation">
			    <ul class="pagination">
			
			        <!-- Previous -->
			        <li class="page-item" th:classappend="${bookPage.first} ? 'disabled'">
			            <a class="page-link"
			               th:href="@{/book/all(page=${bookPage.number - 1},author=${author})}">
			                Previous
			            </a>
			        </li>
			
			        <!-- Page numbers -->
			        <li class="page-item"
			            th:each="i : ${#numbers.sequence(0, bookPage.totalPages - 1)}"
			            th:classappend="${i == bookPage.number} ? 'active'">
			            <a class="page-link"
			               th:href="@{/book/all(page=${i},author=${author})}"
			               th:text="${i + 1}">
			            </a>
			        </li>
			
			        <!-- Next -->
			        <li class="page-item" th:classappend="${bookPage.last} ? 'disabled'">
			            <a class="page-link"
			               th:href="@{/book/all(page=${bookPage.number + 1},author=${author})}">
			                Next
			            </a>
			        </li>
			
			    </ul>
			</nav>

			
    </section>
</body>
</html>