<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      th:replace="~{layout/mainbar :: layout(~{::section})}">
<body>
    <section>
    	<div class="create-container">
    <div class="create-box">
        <div class="form-header">
            <h2><i class="fa-solid fa-user-plus"></i> Update</h2>
        </div>
        
        <form th:action="@{/book/update/{id}(id=${book.id})}" method="post" th:object="${book}" enctype="multipart/form-data">
           <input type="hidden" th:field="*{id}" />
            <div class="form-grid">
                <div class="form-group">
                    <label>Author</label>
                    <div class="input-with-icon">
                        <input type="text" name="author" th:value="${book.author}">
                        <i class="fa-solid fa-user"></i>
                    </div>
                </div>                                               
            </div>
            <div class="form-grid">
                <div class="form-group">
                    <label>Publish Date</label>
                    <div class="input-with-icon">
                        <input type="date" name="publishDate" 
                        th:value="${book.publishDate != null ? #temporals.format(book.publishDate, 'yyyy-MM-dd') : ''}" >
                    </div>
                </div>                                               
            </div>
           
            <div class="form-group full-width">
                <label>ဖိုင်တင်ရန် (File Upload)</label>
                <!-- old image preview -->
			<div th:if="${book.image != null}" class="from-group full-width">
			    <img th:src="@{${bookImagePath} + ${book.image}}"
         		width="120" alt="book image">
			</div>
			
			<!-- keep old image -->
			<input type="hidden" th:field="*{image}" />
                <div class="file-input">
                   <input type="file" name="file" id="file">
                </div>
            </div>

            <button type="submit" class="btn-create-pro">
                <i class="fa-solid fa-check-circle"></i> Update Book
            </button>
        </form>
    </div>
</div>
    </section>
</body>
</html>